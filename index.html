<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Browser Fingerprint Tool</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        :root {
            --primary-color: #4285F4;
            --background-color: #f0f2f5;
            --card-background: #ffffff;
            --text-color: #333;
            --key-color: #5f6368;
            --value-bg-color: #f1f3f4;
            --border-color: #e0e0e0;
            --shadow: 0 4px 8px 0 rgba(0,0,0,0.1);
            --success-color: #34A853;
            --error-color: #EA4335;
        }
        body { font-family: 'Roboto', sans-serif; background-color: var(--background-color); color: var(--text-color); margin: 0; padding: 20px; line-height: 1.6; }
        .container { max-width: 1400px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 30px; }
        header h1 { font-weight: 500; font-size: 2.5rem; color: var(--primary-color); margin-bottom: 10px; }
        header p { font-size: 1.1rem; color: var(--key-color); margin-top: 0; }
        
        /* Search Bar Styling */
        .search-container { margin: 25px auto; max-width: 600px; display: flex; align-items: center; background: var(--card-background); border-radius: 24px; box-shadow: var(--shadow); }
        #search-input { flex-grow: 1; border: none; outline: none; padding: 12px 20px; font-size: 1rem; background: transparent; }
        #search-button { background: var(--primary-color); border: none; border-radius: 0 24px 24px 0; padding: 12px 18px; cursor: pointer; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        #search-button svg { fill: white; width: 20px; height: 20px; }

        /* Ripple Effect */
        .ripple { position: absolute; border-radius: 50%; background: rgba(255, 255, 255, 0.5); transform: scale(0); animation: ripple 600ms linear; pointer-events: none; }
        @keyframes ripple { to { transform: scale(4); opacity: 0; } }

        #copy-button { padding: 10px 20px; font-size: 1rem; font-weight: 500; color: var(--primary-color); background-color: transparent; border: 2px solid var(--primary-color); border-radius: 8px; cursor: pointer; transition: all 0.2s ease; margin-top: 10px; }
        #copy-button:hover { background-color: #e8f0fe; }
        #copy-button.success { background-color: var(--success-color); color: white; border-color: var(--success-color); }

        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 25px; }
        .card { background: var(--card-background); border-radius: 12px; box-shadow: var(--shadow); padding: 25px; overflow: hidden; display: flex; flex-direction: column; transition: transform 0.3s ease, opacity 0.3s ease; }
        .card.hidden { transform: scale(0.95); opacity: 0; display: none; }
        .card h2 { display: flex; align-items: center; font-size: 1.4rem; font-weight: 500; margin-top: 0; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid var(--border-color); color: var(--primary-color); }
        .card h2 .icon { margin-right: 12px; width: 24px; height: 24px; }
        .info-grid { display: grid; grid-template-columns: 160px 1fr; gap: 12px; align-items: start; }
        .info-grid .key { font-weight: 500; color: var(--key-color); font-size: 0.9rem; padding-top: 5px; }
        .info-grid .value { font-family: 'Menlo', 'Consolas', monospace; background-color: var(--value-bg-color); padding: 5px 10px; border-radius: 6px; font-size: 0.9rem; word-break: break-all; line-height: 1.4; }
        
        .list-value { max-height: 150px; overflow-y: auto; background-color: var(--value-bg-color); padding: 8px; border-radius: 6px; }
        .list-value div { font-family: monospace; font-size: 0.85rem; border-bottom: 1px solid #ddd; padding: 4px 2px; }
        .list-value div:last-child { border-bottom: none; }

        .status { display: inline-flex; align-items: center; padding: 3px 8px; border-radius: 12px; font-size: 0.85rem; font-weight: 500; text-transform: capitalize; }
        .status.true, .status.granted { background-color: #e6f4ea; color: var(--success-color); }
        .status.false, .status.denied { background-color: #fce8e6; color: var(--error-color); }
        .status.prompt { background-color: #feefc3; color: #f9ab00; }

        #media-button { display: block; width: 100%; padding: 12px; font-size: 1rem; font-weight: 500; color: #fff; background-color: var(--primary-color); border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.2s; margin-bottom: 15px; position: relative; overflow: hidden; }
        #media-button:hover { background-color: #3367D6; }
        
        #font-list .font-item { display: inline-block; background: var(--value-bg-color); padding: 2px 8px; border-radius: 4px; margin: 2px; font-family: monospace; }
        
        #no-results { text-align: center; color: var(--key-color); font-size: 1.2rem; padding: 40px; display: none; }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Ultimate Browser Fingerprint</h1>
            <p>A comprehensive, real-time report of detectable information, now with live search.</p>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search all information (e.g., IP, GPU, Font)...">
                <button id="search-button">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                </button>
            </div>
            <button id="copy-button">Copy Full Report</button>
        </header>

        <div class="grid-container" id="grid-container">
            <!-- Cards will be dynamically populated here -->
        </div>
        <div id="no-results">No results found for your query.</div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const grid = document.getElementById('grid-container');

        // --- TEMPLATE FOR CARDS ---
        const cardTemplates = [
            { id: 'navigator', title: 'Navigator', icon: '<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-12h2v4h-2zm0 6h2v2h-2z"/>' },
            { id: 'network', title: 'Network & IP', icon: '<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM3.5 12c0-2.29.86-4.38 2.25-5.94L16.94 18.25C15.38 19.64 13.29 20.5 11 20.5c-1.8 0-3.48-.56-4.9-1.52L3.5 12zM19.75 18.25L7.06 5.75C8.62 4.36 10.71 3.5 13 3.5c4.69 0 8.5 3.81 8.5 8.5 0 2.29-.86 4.38-2.25 5.94z"/>' },
            { id: 'fingerprint', title: 'Advanced Fingerprinting', icon: '<path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5.67-1.5 1.5S5.67 15 6.5 15s1.5-.67 1.5-1.5S7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5z"/>' },
            { id: 'webrtc', title: 'WebRTC Leak Test', icon: '<path d="M17 10.5V7c0-1.66-1.34-3-3-3H3c-1.66 0-3 1.34-3 3v10c0 1.66 1.34 3 3 3h11c1.66 0 3-1.34 3-3v-3.5l4 4v-11l-4 4zM15 18H3V6h11v12z"/>' },
            { id: 'display', title: 'Display', icon: '<path d="M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v2h12v-2l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H4V5h16v11z"/>' },
            { id: 'gpu', title: 'GPU & Graphics', icon: '<path d="M9 2L7 4H2v15h20V4h-5l-2-2H9zm8 14H7V8h10v8zm-5-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>' },
            { id: 'time', title: 'Time & Date', icon: '<path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>' },
            { id: 'hardware', title: 'Hardware', icon: '<path d="M17 4h-3V2h-4v2H7c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h10c1.1 0 .9-2 2-2V6c0-1.1-.9-2-2-2zm0 16H7V6h10v14z"/>' },
            { id: 'fonts', title: 'Installed Fonts', icon: '<path d="M9.93 13.5h4.14L12 7.98zM20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-4.05 16.5-1.14-3H9.17l-1.12 3H5.96l5.11-13h1.86l5.11 13h-2.09z"/>' },
            { id: 'plugins', title: 'Plugins & MIME Types', icon: '<path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>'},
            { id: 'permissions', title: 'Permissions & Storage', icon: '<path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>' },
            { id: 'sensors', title: 'Sensors & Speech', icon: '<path d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/>' },
            { id: 'media', title: 'Media Devices', icon: '<path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>' },
        ];
        
        // --- DYNAMICALLY CREATE CARDS ---
        cardTemplates.forEach(template => {
            const card = document.createElement('div');
            card.className = 'card';
            card.id = `${template.id}-card`;
            card.innerHTML = `
                <h2>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">${template.icon}</svg>
                    ${template.title}
                </h2>
                <div class="info-grid"></div>
                <div id="${template.id}-extra"></div>`;
            grid.appendChild(card);
        });
        
        // --- HELPER FUNCTIONS ---
        const displayInfo = (cardId, key, value) => {
            const grid = document.querySelector(`#${cardId}-card .info-grid`);
            if (!grid) return null;
            const keyEl = document.createElement('div'); keyEl.className = 'key'; keyEl.textContent = key;
            const valEl = document.createElement('div'); valEl.className = 'value';
            if (typeof value === 'boolean') {
                const s = document.createElement('span'); s.className = `status ${value}`; s.textContent = value ? 'Yes' : 'No'; valEl.appendChild(s);
            } else { valEl.textContent = value === undefined || value === null || value === '' ? 'N/A' : value; }
            grid.appendChild(keyEl); grid.appendChild(valEl);
            return valEl;
        };
        const simpleHash = str => { let h=0;for(let i=0;i<str.length;i++){const c=str.charCodeAt(i);h=(h<<5)-h+c;h&=h;}return new Uint32Array([h])[0].toString(16); };
        const createRipple = (event) => {
            const button = event.currentTarget;
            const circle = document.createElement("span");
            const diameter = Math.max(button.clientWidth, button.clientHeight);
            const radius = diameter / 2;
            circle.style.width = circle.style.height = `${diameter}px`;
            circle.style.left = `${event.clientX - button.getBoundingClientRect().left - radius}px`;
            circle.style.top = `${event.clientY - button.getBoundingClientRect().top - radius}px`;
            circle.classList.add("ripple");
            button.appendChild(circle);
            setTimeout(() => circle.remove(), 600);
        };

        // --- DETECTION MODULES ---
        const runDetections = () => {
            // Navigator
            const navId = 'navigator';
            displayInfo(navId, 'User Agent', navigator.userAgent);
            displayInfo(navId, 'Platform', navigator.platform);
            displayInfo(navId, 'Language', navigator.language);
            displayInfo(navId, 'Cookies Enabled', navigator.cookieEnabled);
            displayInfo(navId, 'Do Not Track', navigator.doNotTrack || 'Not specified');
            displayInfo(navId, 'Max Touch Points', navigator.maxTouchPoints || 0);
            displayInfo(navId, 'Browser Identifiers', `${'chrome' in window ? 'Chrome ' : ''}${typeof InstallTrigger !== 'undefined' ? 'Firefox ' : ''}`);

            // Network
            const netId = 'network';
            displayInfo(netId, 'Online Status', navigator.onLine);
            const conn = navigator.connection;
            if (conn) { displayInfo(netId, 'Connection Type', conn.effectiveType); displayInfo(netId, 'Downlink (Mbps)', conn.downlink || 'N/A'); }
            const ipv4 = displayInfo(netId, 'Public IPv4', 'Detecting...');
            const ipv6 = displayInfo(netId, 'Public IPv6', 'Detecting...');
            fetch('https://api.ipify.org?format=json').then(r => r.json()).then(d => ipv4.textContent = d.ip).catch(() => ipv4.textContent = 'Error/Unavailable');
            fetch('https://api64.ipify.org?format=json').then(r => r.json()).then(d => ipv6.textContent = d.ip).catch(() => ipv6.textContent = 'Error/Unavailable');

            // WebRTC Leak
            const rtcId = 'webrtc';
            const rtcEl = displayInfo(rtcId, 'Local IP Address', 'Testing...');
            const RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
            if (RTCPeerConnection) {
                const pc = new RTCPeerConnection({ iceServers: [] });
                pc.createDataChannel('');
                pc.createOffer().then(o => pc.setLocalDescription(o));
                pc.onicecandidate = e => { if (e && e.candidate && e.candidate.candidate) { const ip = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(e.candidate.candidate)?.[1]; if (ip) { rtcEl.textContent = ip; pc.onicecandidate = null; } }};
            } else { rtcEl.textContent = "WebRTC not supported"; }

            // Display
            const dispId = 'display';
            displayInfo(dispId, 'Resolution', `${screen.width}x${screen.height}`);
            displayInfo(dispId, 'Available Viewport', `${screen.availWidth}x${screen.availHeight}`);
            displayInfo(dispId, 'Window Size', `${window.innerWidth}x${window.innerHeight}`);
            displayInfo(dispId, 'Pixel Ratio', window.devicePixelRatio);
            displayInfo(dispId, 'Color Depth', `${screen.colorDepth}-bit`);

            // GPU
            const gpuId = 'gpu';
            try {
                const c = document.createElement('canvas'), gl = c.getContext('webgl'), dbg = gl.getExtension('WEBGL_debug_renderer_info');
                displayInfo(gpuId, 'Vendor', gl.getParameter(dbg.UNMASKED_VENDOR_WEBGL));
                displayInfo(gpuId, 'Renderer', gl.getParameter(dbg.UNMASKED_RENDERER_WEBGL));
            } catch (e) { displayInfo(gpuId, 'Info', 'Could not get WebGL context'); }
            
            // Hardware
            const hwId = 'hardware';
            displayInfo(hwId, 'CPU Cores', navigator.hardwareConcurrency || 'N/A');
            displayInfo(hwId, 'Device Memory (GB)', navigator.deviceMemory ? `${navigator.deviceMemory} (approx.)` : 'N/A');

            // Time
            const timeId = 'time';
            displayInfo(timeId, 'System Time', new Date().toLocaleString());
            displayInfo(timeId, 'Timezone', Intl.DateTimeFormat().resolvedOptions().timeZone);

            // Fingerprinting
            const fpId = 'fingerprint';
            try { const c = document.createElement('canvas'), ctx = c.getContext('2d'); ctx.fillText('test', 0, 0); displayInfo(fpId, 'Canvas Fingerprint', simpleHash(c.toDataURL())); } catch (e) { displayInfo(fpId, 'Canvas Fingerprint', 'Error'); }
            const audioEl = displayInfo(fpId, 'Audio Fingerprint', 'Processing...');
            try { const actx=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,44100,44100),o=actx.createOscillator(),c=actx.createDynamicsCompressor();o.connect(c);c.connect(actx.destination);o.start(0);actx.startRendering().then(b=>{const h=simpleHash(b.getChannelData(0).slice(4500,5e3).reduce((a,v)=>a+Math.abs(v),0).toString());audioEl.textContent=h;}); } catch (e) { audioEl.textContent = 'Not Supported'; }
            
            // Fonts
            const fontId = 'fonts';
            const fontsToTest = ['Arial', 'Verdana', 'Helvetica', 'Times New Roman', 'Courier New', 'Georgia', 'Calibri', 'Consolas', 'Menlo', 'Roboto'];
            const baseFonts = ['monospace', 'sans-serif', 'serif'];
            const s = document.createElement("span"); s.innerHTML = "mmmmmmmmmmlli"; s.style.fontSize = '72px';
            const defaultWidth = {}; baseFonts.forEach(f => { s.style.fontFamily = f; document.body.appendChild(s); defaultWidth[f] = s.offsetWidth; document.body.removeChild(s); });
            const foundFonts = fontsToTest.filter(f => baseFonts.some(bf => { s.style.fontFamily = `"${f}",${bf}`; document.body.appendChild(s); const w = s.offsetWidth; document.body.removeChild(s); return w !== defaultWidth[bf]; }));
            displayInfo(fontId, 'Detected Fonts', `${foundFonts.length} / ${fontsToTest.length}`);
            const fontListEl = document.querySelector(`#${fontId}-extra`); fontListEl.id = 'font-list';
            if (foundFonts.length > 0) { foundFonts.forEach(f => { const el = document.createElement('span'); el.className = 'font-item'; el.textContent = f; fontListEl.appendChild(el); }); } else { fontListEl.textContent = "No common fonts detected."; }
            
            // Plugins
            const pluginId = 'plugins';
            displayInfo(pluginId, 'Plugin Count', navigator.plugins.length);
            const pluginListEl = document.querySelector(`#${pluginId}-extra`);
            pluginListEl.className = 'list-value';
            if (navigator.plugins.length > 0) { Array.from(navigator.plugins).forEach(p => { pluginListEl.innerHTML += `<div><strong>${p.name}</strong> (${p.filename})</div>`; }); } else { pluginListEl.innerHTML = "<div>No plugins detected.</div>"; }
            
            // Permissions
            const permId = 'permissions';
            const permsToCheck = ['geolocation', 'notifications', 'camera', 'microphone', 'clipboard-read', 'clipboard-write'];
            permsToCheck.forEach(p => {
                const el = displayInfo(permId, p, 'Checking...');
                navigator.permissions.query({ name: p }).then(status => {
                    el.innerHTML = '';
                    const s = document.createElement('span'); s.className = `status ${status.state}`; s.textContent = status.state;
                    el.appendChild(s);
                }).catch(() => el.textContent = 'Unsupported');
            });
            if (navigator.storage && navigator.storage.estimate) { navigator.storage.estimate().then(e => displayInfo(permId, 'Storage Quota', `${(e.usage/1e6).toFixed(2)} / ${(e.quota/1e6).toFixed(2)} MB`)); }
            
            // Sensors
            const sensorId = 'sensors';
            displayInfo(sensorId, 'Device Motion', 'listening...');
            window.addEventListener('devicemotion', e => displayInfo('sensors', 'Device Motion', 'Detected'), { once: true });
            displayInfo(sensorId, 'Speech Voices', 'Checking...');
            const voices = speechSynthesis.getVoices();
            const setVoices = (v) => {
                const el = document.querySelector(`#${sensorId}-extra`); el.className = 'list-value';
                displayInfo(sensorId, 'Speech Voices', v.length);
                if (v.length > 0) { v.forEach(voice => { el.innerHTML += `<div>${voice.name} (${voice.lang})</div>`; }); }
            };
            if (voices.length) { setVoices(voices); } else { speechSynthesis.onvoiceschanged = () => setVoices(speechSynthesis.getVoices()); }
            
            // Media
            const mediaCard = document.querySelector('#media-card');
            mediaCard.querySelector('.info-grid').remove(); // remove grid for this card
            const mediaExtra = mediaCard.querySelector('#media-extra');
            mediaExtra.innerHTML = '<button id="media-button">Request Mic & Camera Access</button><div id="media-status">Click button to scan for devices.</div><div id="media-list" class="list-value"></div>';
        };

        // --- UI INTERACTION SETUP ---
        const setupUI = () => {
            // Ripple effect
            document.querySelectorAll('#search-button, #media-button').forEach(btn => btn.addEventListener('click', createRipple));
            
            // Search
            const searchInput = document.getElementById('search-input');
            const allCards = document.querySelectorAll('.card');
            const noResultsEl = document.getElementById('no-results');
            searchInput.addEventListener('input', () => {
                const term = searchInput.value.toLowerCase();
                let visibleCount = 0;
                allCards.forEach(card => {
                    const content = card.innerText.toLowerCase();
                    if (content.includes(term)) {
                        card.classList.remove('hidden');
                        visibleCount++;
                    } else {
                        card.classList.add('hidden');
                    }
                });
                noResultsEl.style.display = visibleCount === 0 ? 'block' : 'none';
            });
            
            // Media Button
            document.getElementById('media-button').addEventListener('click', async () => {
                const statusEl = document.getElementById('media-status'), listEl = document.getElementById('media-list');
                statusEl.textContent = 'Requesting...'; listEl.innerHTML = '';
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true, video: true });
                    statusEl.textContent = 'Input Devices Found:';
                    const devices = await navigator.mediaDevices.enumerateDevices();
                    devices.filter(d => d.kind !== 'audiooutput').forEach(d => { listEl.innerHTML += `<div>[${d.kind.replace('input', '')}] ${d.label || `(no label)`}</div>`; });
                    stream.getTracks().forEach(t => t.stop());
                } catch (err) { statusEl.textContent = `Error: ${err.name}`; }
            });
            
            // Copy Button
            document.getElementById('copy-button').addEventListener('click', async () => {
                let report = '--- Ultimate Browser Fingerprint Report ---\n\n';
                document.querySelectorAll('.card:not(.hidden)').forEach(card => {
                    const title = card.querySelector('h2').textContent.trim();
                    report += `--- ${title} ---\n`;
                    card.querySelectorAll('.info-grid .key').forEach((keyEl, i) => {
                        const valEl = card.querySelectorAll('.info-grid .value')[i];
                        if (valEl) report += `${keyEl.textContent}: ${valEl.textContent}\n`;
                    });
                    const extraContent = card.querySelector('.list-value, #font-list');
                    if (extraContent && extraContent.innerText) report += `${extraContent.innerText}\n`;
                    report += '\n';
                });
                try {
                    await navigator.clipboard.writeText(report);
                    const btn = document.getElementById('copy-button');
                    btn.textContent = 'Copied!'; btn.classList.add('success');
                    setTimeout(() => { btn.textContent = 'Copy Full Report'; btn.classList.remove('success'); }, 2000);
                } catch (err) { alert('Failed to copy report.'); }
            });
        };

        // --- INITIALIZE EVERYTHING ---
        runDetections();
        setupUI();
    });
    </script>
</body>
</html>
