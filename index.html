<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Material RGBA Color Picker</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Roboto', sans-serif;
      -webkit-tap-highlight-color: transparent;
    }
    body {
      margin: 0;
      padding: 2rem 1rem;
      background: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .card {
      background: white;
      padding: 2rem;
      max-width: 480px;
      width: 100%;
      border-radius: 18px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    h1 {
      text-align: center;
      font-size: 1.8rem;
      color: #333;
    }
    .slider-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .slider-label {
      display: flex;
      justify-content: space-between;
      font-weight: 500;
      color: #555;
    }
    input[type=range] {
      -webkit-appearance: none;
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: #ccc;
      outline: none;
      transition: background 0.3s;
    }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      height: 22px;
      width: 22px;
      border-radius: 50%;
      background: #fff;
      border: 2px solid #666;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s ease;
    }
    input[type=range]:active::-webkit-slider-thumb {
      transform: scale(1.3);
      border-color: #222;
    }
    .preview {
      height: 120px;
      border-radius: 16px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 1rem;
      text-align: center;
      padding: 0 1rem;
      transition: background 0.3s;
    }
    .values {
      text-align: center;
      line-height: 1.6;
    }
    .btn-group {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    .btn {
      position: relative;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #1976d2;
      border: none;
      color: white;
      cursor: pointer;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }
    .btn .material-symbols-outlined {
      font-size: 24px;
    }
    .btn::after {
      content: '';
      position: absolute;
      width: 100px;
      height: 100px;
      background: rgba(255, 255, 255, 0.4);
      border-radius: 50%;
      transform: scale(0);
      opacity: 0;
      pointer-events: none;
    }
    .btn:active::after {
      animation: ripple 0.5s ease-out;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      opacity: 1;
    }
    @keyframes ripple {
      to {
        transform: translate(-50%, -50%) scale(2.5);
        opacity: 0;
      }
    }
    .palette {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .swatch {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      border: 1px solid #ccc;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>ðŸŽ¨ RGBA Color Picker</h1>

    <div class="slider-group">
      <div class="slider-label"><span>Red</span><span id="valR">0</span></div>
      <input type="range" id="r" min="0" max="255" value="0">
    </div>
    <div class="slider-group">
      <div class="slider-label"><span>Green</span><span id="valG">0</span></div>
      <input type="range" id="g" min="0" max="255" value="0">
    </div>
    <div class="slider-group">
      <div class="slider-label"><span>Blue</span><span id="valB">0</span></div>
      <input type="range" id="b" min="0" max="255" value="0">
    </div>
    <div class="slider-group">
      <div class="slider-label"><span>Alpha</span><span id="valA">1.00</span></div>
      <input type="range" id="a" min="0" max="1" value="1" step="0.01">
    </div>

    <div class="preview" id="colorBox">#000000</div>

    <div class="values">
      <div><strong>RGBA:</strong> <span id="rgbaVal">rgba(0, 0, 0, 1)</span></div>
      <div><strong>HEX:</strong> <span id="hexVal">#000000</span></div>
      <div><strong>Color Name:</strong> <span id="nameVal">Unknown</span></div>
    </div>

    <div class="btn-group">
      <button class="btn" id="copyBtn"><span class="material-symbols-outlined">content_copy</span></button>
      <button class="btn" id="saveBtn"><span class="material-symbols-outlined">palette</span></button>
      <button class="btn" id="exportBtn"><span class="material-symbols-outlined">download</span></button>
    </div>

    <div class="palette" id="palette"></div>
  </div>

  <script>
    const sliders = {
      r: document.getElementById('r'),
      g: document.getElementById('g'),
      b: document.getElementById('b'),
      a: document.getElementById('a')
    };
    const labels = {
      r: document.getElementById('valR'),
      g: document.getElementById('valG'),
      b: document.getElementById('valB'),
      a: document.getElementById('valA')
    };
    const colorBox = document.getElementById('colorBox');
    const rgbaVal = document.getElementById('rgbaVal');
    const hexVal = document.getElementById('hexVal');
    const nameVal = document.getElementById('nameVal');
    const palette = document.getElementById('palette');
    const copyBtn = document.getElementById('copyBtn');
    const saveBtn = document.getElementById('saveBtn');
    const exportBtn = document.getElementById('exportBtn');

    const colorNames = {
      "#ff0000": "Red",
      "#00ff00": "Lime",
      "#0000ff": "Blue",
      "#ffff00": "Yellow",
      "#00ffff": "Cyan",
      "#ff00ff": "Magenta",
      "#ffffff": "White",
      "#000000": "Black",
      "#808080": "Gray",
      "#c0c0c0": "Silver",
    };

    function toHex(v) {
      return v.toString(16).padStart(2, '0');
    }

    function getContrast(r, g, b) {
      const brightness = (r * 299 + g * 587 + b * 114) / 1000;
      return brightness > 125 ? '#000' : '#fff';
    }

    function getColorName(hex) {
      return colorNames[hex.toLowerCase()] || 'Unknown';
    }

    function updateColor() {
      const r = +sliders.r.value;
      const g = +sliders.g.value;
      const b = +sliders.b.value;
      const a = +sliders.a.value;

      labels.r.textContent = r;
      labels.g.textContent = g;
      labels.b.textContent = b;
      labels.a.textContent = a.toFixed(2);

      const rgba = `rgba(${r}, ${g}, ${b}, ${a})`;
      const hex = `#${toHex(r)}${toHex(g)}${toHex(b)}`;

      rgbaVal.textContent = rgba;
      hexVal.textContent = hex;
      nameVal.textContent = getColorName(hex);

      colorBox.style.backgroundColor = rgba;
      colorBox.textContent = hex + (a < 1 ? ` / ${Math.round(a * 100)}%` : '');
      colorBox.style.color = getContrast(r, g, b);
    }

    function saveColor() {
      const color = rgbaVal.textContent;
      let saved = JSON.parse(localStorage.getItem('savedColors') || '[]');
      if (!saved.includes(color)) {
        saved.push(color);
        localStorage.setItem('savedColors', JSON.stringify(saved));
        renderPalette();
      }
    }

    function renderPalette() {
      const saved = JSON.parse(localStorage.getItem('savedColors') || '[]');
      palette.innerHTML = '';
      saved.forEach(c => {
        const swatch = document.createElement('div');
        swatch.className = 'swatch';
        swatch.style.background = c;
        swatch.title = c;
        swatch.onclick = () => {
          const rgba = c.match(/\\d+\\.?\\d*/g);
          sliders.r.value = rgba[0];
          sliders.g.value = rgba[1];
          sliders.b.value = rgba[2];
          sliders.a.value = rgba[3];
          updateColor();
        };
        palette.appendChild(swatch);
      });
    }

    function exportJSON() {
      const saved = localStorage.getItem('savedColors') || '[]';
      const blob = new Blob([saved], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'saved-colors.json';
      a.click();
      URL.revokeObjectURL(url);
    }

    Object.values(sliders).forEach(slider => {
      slider.addEventListener('input', updateColor);
    });

    copyBtn.addEventListener('click', () => {
      navigator.clipboard.writeText(hexVal.textContent);
      alert('HEX Copied!');
    });

    saveBtn.addEventListener('click', saveColor);
    exportBtn.addEventListener('click', exportJSON);

    updateColor();
    renderPalette();
  </script>
</body>
</html>
